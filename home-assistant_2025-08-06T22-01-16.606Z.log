                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/loader.py", line 1018, in async_get_component
    self._component_future.result()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/usr/src/homeassistant/homeassistant/loader.py", line 1010, in async_get_component
    comp = self._get_component()
  File "/usr/src/homeassistant/homeassistant/loader.py", line 1069, in _get_component
    raise ImportError(f"Exception importing {self.pkg_path}") from err
ImportError: Exception importing custom_components.thessla_green_modbus[0m
[33m2025-08-06 23:47:11.737 WARNING (ImportExecutor_0) [py.warnings] /usr/local/lib/python3.13/site-packages/aiomusiccast/__init__.py:1: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  from pkg_resources import DistributionNotFound, get_distribution
[0m
[33m2025-08-06 23:47:11.939 WARNING (MainThread) [py.warnings] /usr/local/lib/python3.13/site-packages/gql/transport/aiohttp.py:92: UserWarning: WARNING: By default, AIOHTTPTransport does not verify ssl certificates. This will be fixed in the next major version. You can set ssl=True to force the ssl certificate verification or ssl=False to disable this warning
  warnings.warn(
[0m
[33m2025-08-06 23:47:14.180 WARNING (ImportExecutor_0) [py.warnings] /usr/local/lib/python3.13/site-packages/google/protobuf/runtime_version.py:98: UserWarning: Protobuf gencode version 5.29.5 is exactly one major version older than the runtime version 6.31.1 at api.proto. Please update the gencode to avoid compatibility violations in the next runtime release.
  warnings.warn(
[0m
[33m2025-08-06 23:47:14.181 WARNING (ImportExecutor_0) [py.warnings] /usr/local/lib/python3.13/site-packages/google/protobuf/runtime_version.py:98: UserWarning: Protobuf gencode version 5.29.5 is exactly one major version older than the runtime version 6.31.1 at api_options.proto. Please update the gencode to avoid compatibility violations in the next runtime release.
  warnings.warn(
[0m
[31m2025-08-06 23:47:17.528 ERROR (MainThread) [homeassistant.components.sensor] hikconnect: Error on device update!
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity_platform.py", line 788, in _async_add_entity
    await entity.async_device_update(warning=False)
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1303, in async_device_update
    await self.async_update()
  File "/config/custom_components/hikconnect/sensor.py", line 64, in async_update
    res = await asyncio.wait_for(get_call_status_coro, SCAN_INTERVAL_TIMEOUT.seconds)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/asyncio/tasks.py", line 507, in wait_for
    return await fut
           ^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/hikconnect/api.py", line 233, in get_call_status
    raise DeviceOffline()
hikconnect.exceptions.DeviceOffline[0m
[31m2025-08-06 23:47:17.952 ERROR (MainThread) [homeassistant.components.sensor] hikconnect: Error on device update!
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity_platform.py", line 788, in _async_add_entity
    await entity.async_device_update(warning=False)
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1303, in async_device_update
    await self.async_update()
  File "/config/custom_components/hikconnect/sensor.py", line 64, in async_update
    res = await asyncio.wait_for(get_call_status_coro, SCAN_INTERVAL_TIMEOUT.seconds)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/asyncio/tasks.py", line 507, in wait_for
    return await fut
           ^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/hikconnect/api.py", line 233, in get_call_status
    raise DeviceOffline()
hikconnect.exceptions.DeviceOffline[0m
[31m2025-08-06 23:47:27.091 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set t = ( states('sensor.supply_temperature')|float - states('sensor.outside_temperature')|float ) %} {% set u = ( states('sensor.exhaust_temperature')|float - states('sensor.outside_temperature')|float ) %} {{ ( t / u *100 )|round(1) }}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2446, in forgiving_float_filter
    return float(value)
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 641, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2977, in _render_with_context
    return template.render(**kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/usr/local/lib/python3.13/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2449, in forgiving_float_filter
    raise_no_default("float", value)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1975, in raise_no_default
    raise ValueError(
    ...<2 lines>...
    )
ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = ( states('sensor.supply_temperature')|float - states('sensor.outside_temperature')|float ) %} {% set u = ( states('sensor.exhaust_temperature')|float - states('sensor.outside_temperature')|float ) %} {{ ( t / u *100 )|round(1) }}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 758, in async_render_to_info
    render_info._result = self.async_render(  # noqa: SLF001
                          ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
        variables, strict=strict, log_fn=log_fn, **kwargs
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 643, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = ( states('sensor.supply_temperature')|float - states('sensor.outside_temperature')|float ) %} {% set u = ( states('sensor.exhaust_temperature')|float - states('sensor.outside_temperature')|float ) %} {{ ( t / u *100 )|round(1) }}' but no default was specified[0m
[31m2025-08-06 23:47:27.670 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = ( states('sensor.supply_temperature')|float - states('sensor.outside_temperature')|float ) %} {% set u = ( states('sensor.exhaust_temperature')|float - states('sensor.outside_temperature')|float ) %} {{ ( t / u *100 )|round(1) }}' but no default was specified') while processing template 'Template<template=({% set t = ( states('sensor.supply_temperature')|float - states('sensor.outside_temperature')|float ) %} {% set u = ( states('sensor.exhaust_temperature')|float - states('sensor.outside_temperature')|float ) %} {{ ( t / u *100 )|round(1) }}) renders=4>' for attribute '_attr_native_value' in entity 'sensor.sprawnosc_rekuperatora'[0m
[31m2025-08-06 23:47:50.685 ERROR (MainThread) [homeassistant.components.mqtt.entity] Error 'The unit of measurement `%` is not valid together with device class `temperature`' when processing MQTT discovery message topic: 'homeassistant/sensor/ebusd_bai_ModulationTempDesired_value/config', message: '{'unique_id': 'ebusd_bai_ModulationTempDesired_value', 'device': {'identifiers': 'ebusd_bai', 'manufacturer': 'ebusd.eu', 'via_device': 'ebusd', 'sw_version': '25.1', 'suggested_area': 'Heating', 'name': 'ebusd bai'}, 'value_template': '{{value_json["value"].value}}', 'state_topic': 'ebusd/bai/ModulationTempDesired', 'unit_of_measurement': '%', 'state_class': 'measurement', 'device_class': 'temperature', 'name': 'ModulationTempDesired '}'[0m
[31m2025-08-06 23:47:51.204 ERROR (MainThread) [homeassistant.components.mqtt.entity] Error 'The unit of measurement `%` is not valid together with device class `temperature`' when processing MQTT discovery message topic: 'homeassistant/sensor/ebusd_vr_71_Mc1FlowTempDesired_mixermovement/config', message: '{'unique_id': 'ebusd_vr_71_Mc1FlowTempDesired_mixermovement', 'device': {'identifiers': 'ebusd_vr_71', 'manufacturer': 'ebusd.eu', 'via_device': 'ebusd', 'sw_version': '25.1', 'suggested_area': 'Heating', 'name': 'ebusd vr_71'}, 'value_template': '{{value_json["mixermovement"].value}}', 'state_topic': 'ebusd/vr_71/Mc1FlowTempDesired', 'unit_of_measurement': '%', 'state_class': 'measurement', 'device_class': 'temperature', 'name': 'Mc1FlowTempDesired mixermovement'}'[0m
[31m2025-08-06 23:47:51.251 ERROR (MainThread) [homeassistant.components.mqtt.entity] Error 'The unit of measurement `%` is not valid together with device class `temperature`' when processing MQTT discovery message topic: 'homeassistant/sensor/ebusd_vr_71_Mc2FlowTempDesired_mixermovement/config', message: '{'unique_id': 'ebusd_vr_71_Mc2FlowTempDesired_mixermovement', 'device': {'identifiers': 'ebusd_vr_71', 'manufacturer': 'ebusd.eu', 'via_device': 'ebusd', 'sw_version': '25.1', 'suggested_area': 'Heating', 'name': 'ebusd vr_71'}, 'value_template': '{{value_json["mixermovement"].value}}', 'state_topic': 'ebusd/vr_71/Mc2FlowTempDesired', 'unit_of_measurement': '%', 'state_class': 'measurement', 'device_class': 'temperature', 'name': 'Mc2FlowTempDesired mixermovement'}'[0m
[31m2025-08-06 23:47:51.279 ERROR (MainThread) [homeassistant.components.mqtt.entity] Error 'The unit of measurement `%` is not valid together with device class `temperature`' when processing MQTT discovery message topic: 'homeassistant/sensor/ebusd_vr_71_Mc3FlowTempDesired_mixermovement/config', message: '{'unique_id': 'ebusd_vr_71_Mc3FlowTempDesired_mixermovement', 'device': {'identifiers': 'ebusd_vr_71', 'manufacturer': 'ebusd.eu', 'via_device': 'ebusd', 'sw_version': '25.1', 'suggested_area': 'Heating', 'name': 'ebusd vr_71'}, 'value_template': '{{value_json["mixermovement"].value}}', 'state_topic': 'ebusd/vr_71/Mc3FlowTempDesired', 'unit_of_measurement': '%', 'state_class': 'measurement', 'device_class': 'temperature', 'name': 'Mc3FlowTempDesired mixermovement'}'[0m
[33m2025-08-06 23:47:53.857 WARNING (MainThread) [homeassistant.components.esphome.manager] Sensory: [W][component:307]: dallas_temp.sensor cleared Warning flag[0m
[33m2025-08-06 23:47:54.650 WARNING (MainThread) [homeassistant.components.esphome.manager] Sensory: [W][component:279]: dallas_temp.sensor set Warning flag: scratch pad checksum invalid[0m
[33m2025-08-06 23:48:53.891 WARNING (MainThread) [homeassistant.components.esphome.manager] Sensory: [W][component:307]: dallas_temp.sensor cleared Warning flag[0m
[33m2025-08-06 23:48:54.679 WARNING (MainThread) [homeassistant.components.esphome.manager] Sensory: [W][component:279]: dallas_temp.sensor set Warning flag: scratch pad checksum invalid[0m
[33m2025-08-06 23:49:53.942 WARNING (MainThread) [homeassistant.components.esphome.manager] Sensory: [W][component:307]: dallas_temp.sensor cleared Warning flag[0m
[33m2025-08-06 23:49:54.725 WARNING (MainThread) [homeassistant.components.esphome.manager] Sensory: [W][component:279]: dallas_temp.sensor set Warning flag: scratch pad checksum invalid[0m
[33m2025-08-06 23:50:53.996 WARNING (MainThread) [homeassistant.components.esphome.manager] Sensory: [W][component:307]: dallas_temp.sensor cleared Warning flag[0m
[33m2025-08-06 23:50:54.782 WARNING (MainThread) [homeassistant.components.esphome.manager] Sensory: [W][component:279]: dallas_temp.sensor set Warning flag: scratch pad checksum invalid[0m
[33m2025-08-06 23:51:53.999 WARNING (MainThread) [homeassistant.components.esphome.manager] Sensory: [W][component:307]: dallas_temp.sensor cleared Warning flag[0m
[33m2025-08-06 23:51:54.789 WARNING (MainThread) [homeassistant.components.esphome.manager] Sensory: [W][component:279]: dallas_temp.sensor set Warning flag: scratch pad checksum invalid[0m
[33m2025-08-06 23:52:17.246 WARNING (MainThread) [py.warnings] /usr/local/lib/python3.13/site-packages/gql/transport/aiohttp.py:92: UserWarning: WARNING: By default, AIOHTTPTransport does not verify ssl certificates. This will be fixed in the next major version. You can set ssl=True to force the ssl certificate verification or ssl=False to disable this warning
  warnings.warn(
[0m
[33m2025-08-06 23:52:54.027 WARNING (MainThread) [homeassistant.components.esphome.manager] Sensory: [W][component:307]: dallas_temp.sensor cleared Warning flag[0m
[33m2025-08-06 23:52:54.812 WARNING (MainThread) [homeassistant.components.esphome.manager] Sensory: [W][component:279]: dallas_temp.sensor set Warning flag: scratch pad checksum invalid[0m
[33m2025-08-06 23:53:54.070 WARNING (MainThread) [homeassistant.components.esphome.manager] Sensory: [W][component:307]: dallas_temp.sensor cleared Warning flag[0m
[33m2025-08-06 23:53:54.853 WARNING (MainThread) [homeassistant.components.esphome.manager] Sensory: [W][component:279]: dallas_temp.sensor set Warning flag: scratch pad checksum invalid[0m
[33m2025-08-06 23:54:54.109 WARNING (MainThread) [homeassistant.components.esphome.manager] Sensory: [W][component:307]: dallas_temp.sensor cleared Warning flag[0m
[33m2025-08-06 23:54:54.896 WARNING (MainThread) [homeassistant.components.esphome.manager] Sensory: [W][component:279]: dallas_temp.sensor set Warning flag: scratch pad checksum invalid[0m
[33m2025-08-06 23:55:01.899 WARNING (MainThread) [homeassistant.components.sensor] Entity sensor.ebusd_bai_deactivationstemplimiter (<class 'homeassistant.components.mqtt.sensor.MqttSensor'>) is using native unit of measurement 'None' which is not a valid unit for the device class ('temperature') it is using; expected one of ['°C', '°F', 'K']; Please update your configuration if your entity is manually configured, otherwise create a bug report at https://github.com/home-assistant/core/issues?q=is%3Aopen+is%3Aissue+label%3A%22integration%3A+mqtt%22[0m
[33m2025-08-06 23:55:54.128 WARNING (MainThread) [homeassistant.components.esphome.manager] Sensory: [W][component:307]: dallas_temp.sensor cleared Warning flag[0m
[33m2025-08-06 23:55:54.912 WARNING (MainThread) [homeassistant.components.esphome.manager] Sensory: [W][component:279]: dallas_temp.sensor set Warning flag: scratch pad checksum invalid[0m
[33m2025-08-06 23:56:54.187 WARNING (MainThread) [homeassistant.components.esphome.manager] Sensory: [W][component:307]: dallas_temp.sensor cleared Warning flag[0m
[33m2025-08-06 23:56:54.969 WARNING (MainThread) [homeassistant.components.esphome.manager] Sensory: [W][component:279]: dallas_temp.sensor set Warning flag: scratch pad checksum invalid[0m
[33m2025-08-06 23:57:19.178 WARNING (MainThread) [py.warnings] /usr/local/lib/python3.13/site-packages/gql/transport/aiohttp.py:92: UserWarning: WARNING: By default, AIOHTTPTransport does not verify ssl certificates. This will be fixed in the next major version. You can set ssl=True to force the ssl certificate verification or ssl=False to disable this warning
  warnings.warn(
[0m
[33m2025-08-06 23:57:32.282 WARNING (MainThread) [homeassistant.components.sensor] Entity sensor.ebusd_bai_prenergycounthc1 (<class 'homeassistant.components.mqtt.sensor.MqttSensor'>) is using native unit of measurement 'None' which is not a valid unit for the device class ('energy') it is using; expected one of ['cal', 'GWh', 'Gcal', 'MWh', 'kcal', 'GJ', 'J', 'TWh', 'mWh', 'MJ', 'kJ', 'kWh', 'Mcal', 'Wh']; Please update your configuration if your entity is manually configured, otherwise create a bug report at https://github.com/home-assistant/core/issues?q=is%3Aopen+is%3Aissue+label%3A%22integration%3A+mqtt%22[0m
[33m2025-08-06 23:57:42.274 WARNING (MainThread) [homeassistant.components.sensor] Entity sensor.ebusd_bai_prenergycounthc2 (<class 'homeassistant.components.mqtt.sensor.MqttSensor'>) is using native unit of measurement 'None' which is not a valid unit for the device class ('energy') it is using; expected one of ['cal', 'GWh', 'Gcal', 'MWh', 'kcal', 'GJ', 'J', 'TWh', 'mWh', 'MJ', 'kJ', 'kWh', 'Mcal', 'Wh']; Please update your configuration if your entity is manually configured, otherwise create a bug report at https://github.com/home-assistant/core/issues?q=is%3Aopen+is%3Aissue+label%3A%22integration%3A+mqtt%22[0m
[33m2025-08-06 23:57:47.289 WARNING (MainThread) [homeassistant.components.sensor] Entity sensor.ebusd_bai_prenergycounthc3 (<class 'homeassistant.components.mqtt.sensor.MqttSensor'>) is using native unit of measurement 'None' which is not a valid unit for the device class ('energy') it is using; expected one of ['cal', 'GWh', 'Gcal', 'MWh', 'kcal', 'GJ', 'J', 'TWh', 'mWh', 'MJ', 'kJ', 'kWh', 'Mcal', 'Wh']; Please update your configuration if your entity is manually configured, otherwise create a bug report at https://github.com/home-assistant/core/issues?q=is%3Aopen+is%3Aissue+label%3A%22integration%3A+mqtt%22[0m
[33m2025-08-06 23:57:52.305 WARNING (MainThread) [homeassistant.components.sensor] Entity sensor.ebusd_bai_prenergycounthwc1 (<class 'homeassistant.components.mqtt.sensor.MqttSensor'>) is using native unit of measurement 'None' which is not a valid unit for the device class ('energy') it is using; expected one of ['cal', 'GWh', 'Gcal', 'MWh', 'kcal', 'GJ', 'J', 'TWh', 'mWh', 'MJ', 'kJ', 'kWh', 'Mcal', 'Wh']; Please update your configuration if your entity is manually configured, otherwise create a bug report at https://github.com/home-assistant/core/issues?q=is%3Aopen+is%3Aissue+label%3A%22integration%3A+mqtt%22[0m
[33m2025-08-06 23:57:54.244 WARNING (MainThread) [homeassistant.components.esphome.manager] Sensory: [W][component:307]: dallas_temp.sensor cleared Warning flag[0m
[33m2025-08-06 23:57:55.029 WARNING (MainThread) [homeassistant.components.esphome.manager] Sensory: [W][component:279]: dallas_temp.sensor set Warning flag: scratch pad checksum invalid[0m
[33m2025-08-06 23:57:57.341 WARNING (MainThread) [homeassistant.components.sensor] Entity sensor.ebusd_bai_prenergycounthwc2 (<class 'homeassistant.components.mqtt.sensor.MqttSensor'>) is using native unit of measurement 'None' which is not a valid unit for the device class ('energy') it is using; expected one of ['cal', 'GWh', 'Gcal', 'MWh', 'kcal', 'GJ', 'J', 'TWh', 'mWh', 'MJ', 'kJ', 'kWh', 'Mcal', 'Wh']; Please update your configuration if your entity is manually configured, otherwise create a bug report at https://github.com/home-assistant/core/issues?q=is%3Aopen+is%3Aissue+label%3A%22integration%3A+mqtt%22[0m
[33m2025-08-06 23:58:02.339 WARNING (MainThread) [homeassistant.components.sensor] Entity sensor.ebusd_bai_prenergycounthwc3 (<class 'homeassistant.components.mqtt.sensor.MqttSensor'>) is using native unit of measurement 'None' which is not a valid unit for the device class ('energy') it is using; expected one of ['cal', 'GWh', 'Gcal', 'MWh', 'kcal', 'GJ', 'J', 'TWh', 'mWh', 'MJ', 'kJ', 'kWh', 'Mcal', 'Wh']; Please update your configuration if your entity is manually configured, otherwise create a bug report at https://github.com/home-assistant/core/issues?q=is%3Aopen+is%3Aissue+label%3A%22integration%3A+mqtt%22[0m
[33m2025-08-06 23:58:12.357 WARNING (MainThread) [homeassistant.components.sensor] Entity sensor.ebusd_bai_prenergysumhc1 (<class 'homeassistant.components.mqtt.sensor.MqttSensor'>) is using native unit of measurement 'None' which is not a valid unit for the device class ('energy') it is using; expected one of ['cal', 'GWh', 'Gcal', 'MWh', 'kcal', 'GJ', 'J', 'TWh', 'mWh', 'MJ', 'kJ', 'kWh', 'Mcal', 'Wh']; Please update your configuration if your entity is manually configured, otherwise create a bug report at https://github.com/home-assistant/core/issues?q=is%3Aopen+is%3Aissue+label%3A%22integration%3A+mqtt%22[0m
[33m2025-08-06 23:58:17.373 WARNING (MainThread) [homeassistant.components.sensor] Entity sensor.ebusd_bai_prenergysumhc2 (<class 'homeassistant.components.mqtt.sensor.MqttSensor'>) is using native unit of measurement 'None' which is not a valid unit for the device class ('energy') it is using; expected one of ['cal', 'GWh', 'Gcal', 'MWh', 'kcal', 'GJ', 'J', 'TWh', 'mWh', 'MJ', 'kJ', 'kWh', 'Mcal', 'Wh']; Please update your configuration if your entity is manually configured, otherwise create a bug report at https://github.com/home-assistant/core/issues?q=is%3Aopen+is%3Aissue+label%3A%22integration%3A+mqtt%22[0m
[33m2025-08-06 23:58:22.383 WARNING (MainThread) [homeassistant.components.sensor] Entity sensor.ebusd_bai_prenergysumhc3 (<class 'homeassistant.components.mqtt.sensor.MqttSensor'>) is using native unit of measurement 'None' which is not a valid unit for the device class ('energy') it is using; expected one of ['cal', 'GWh', 'Gcal', 'MWh', 'kcal', 'GJ', 'J', 'TWh', 'mWh', 'MJ', 'kJ', 'kWh', 'Mcal', 'Wh']; Please update your configuration if your entity is manually configured, otherwise create a bug report at https://github.com/home-assistant/core/issues?q=is%3Aopen+is%3Aissue+label%3A%22integration%3A+mqtt%22[0m
[33m2025-08-06 23:58:27.459 WARNING (MainThread) [homeassistant.components.sensor] Entity sensor.ebusd_bai_prenergysumhwc1 (<class 'homeassistant.components.mqtt.sensor.MqttSensor'>) is using native unit of measurement 'None' which is not a valid unit for the device class ('energy') it is using; expected one of ['cal', 'GWh', 'Gcal', 'MWh', 'kcal', 'GJ', 'J', 'TWh', 'mWh', 'MJ', 'kJ', 'kWh', 'Mcal', 'Wh']; Please update your configuration if your entity is manually configured, otherwise create a bug report at https://github.com/home-assistant/core/issues?q=is%3Aopen+is%3Aissue+label%3A%22integration%3A+mqtt%22[0m
[33m2025-08-06 23:58:31.445 WARNING (MainThread) [homeassistant.components.sensor] Entity sensor.ebusd_bai_prenergysumhwc2 (<class 'homeassistant.components.mqtt.sensor.MqttSensor'>) is using native unit of measurement 'None' which is not a valid unit for the device class ('energy') it is using; expected one of ['cal', 'GWh', 'Gcal', 'MWh', 'kcal', 'GJ', 'J', 'TWh', 'mWh', 'MJ', 'kJ', 'kWh', 'Mcal', 'Wh']; Please update your configuration if your entity is manually configured, otherwise create a bug report at https://github.com/home-assistant/core/issues?q=is%3Aopen+is%3Aissue+label%3A%22integration%3A+mqtt%22[0m
[33m2025-08-06 23:58:32.957 WARNING (MainThread) [homeassistant.helpers.service] Referenced entities switch.podbitka2 are missing or not currently available[0m
[33m2025-08-06 23:58:35.733 WARNING (SyncWorker_2) [homeassistant.loader] We found a custom integration xtend_tuya which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:58:35.734 WARNING (SyncWorker_2) [homeassistant.loader] We found a custom integration philips_ambilight_hue which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:58:35.735 WARNING (SyncWorker_2) [homeassistant.loader] We found a custom integration waste_management which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:58:35.736 WARNING (SyncWorker_2) [homeassistant.loader] We found a custom integration satel which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:58:35.737 WARNING (SyncWorker_2) [homeassistant.loader] We found a custom integration xiaomi_miio_airpurifier which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:58:35.738 WARNING (SyncWorker_2) [homeassistant.loader] We found a custom integration irrigationprogram which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:58:35.739 WARNING (SyncWorker_2) [homeassistant.loader] We found a custom integration nodered which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:58:35.740 WARNING (SyncWorker_2) [homeassistant.loader] We found a custom integration edgeos which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:58:35.741 WARNING (SyncWorker_2) [homeassistant.loader] We found a custom integration hacs which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:58:35.743 WARNING (SyncWorker_2) [homeassistant.loader] We found a custom integration dahua which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:58:35.744 WARNING (SyncWorker_2) [homeassistant.loader] We found a custom integration smartthinq_sensors which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:58:35.745 WARNING (SyncWorker_2) [homeassistant.loader] We found a custom integration hikconnect which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:58:35.746 WARNING (SyncWorker_2) [homeassistant.loader] We found a custom integration localtuya which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:58:41.465 WARNING (MainThread) [homeassistant.components.sensor] Entity sensor.ebusd_bai_prenergysumhwc3 (<class 'homeassistant.components.mqtt.sensor.MqttSensor'>) is using native unit of measurement 'None' which is not a valid unit for the device class ('energy') it is using; expected one of ['cal', 'GWh', 'Gcal', 'MWh', 'kcal', 'GJ', 'J', 'TWh', 'mWh', 'MJ', 'kJ', 'kWh', 'Mcal', 'Wh']; Please update your configuration if your entity is manually configured, otherwise create a bug report at https://github.com/home-assistant/core/issues?q=is%3Aopen+is%3Aissue+label%3A%22integration%3A+mqtt%22[0m
[31m2025-08-06 23:58:46.229 ERROR (MainThread) [custom_components.hacs] Download failed - Got status code 404 when trying to download https://github.com/blakinio/thesslagreen/archive/refs/heads/c0af5a6.zip
Traceback (most recent call last):
  File "/config/custom_components/hacs/base.py", line 709, in async_download_file
    raise HacsException(
    ...<2 lines>...
    )
custom_components.hacs.exceptions.HacsException: Got status code 404 when trying to download https://github.com/blakinio/thesslagreen/archive/refs/heads/c0af5a6.zip[0m
[31m2025-08-06 23:58:46.233 ERROR (MainThread) [custom_components.hacs] [<Integration blakinio/thesslagreen>] Failed to download zipball
Traceback (most recent call last):
  File "/config/custom_components/hacs/repositories/base.py", line 631, in download_content
    await self.download_repository_zip()
  File "/config/custom_components/hacs/repositories/base.py", line 677, in download_repository_zip
    raise HacsException(f"[{self}] Failed to download zipball")
custom_components.hacs.exceptions.HacsException: [<Integration blakinio/thesslagreen>] Failed to download zipball[0m
[33m2025-08-06 23:58:49.791 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration xtend_tuya which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:58:49.792 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration philips_ambilight_hue which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:58:49.794 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration waste_management which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:58:49.795 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration thessla_green_modbus which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:58:49.796 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration satel which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:58:49.797 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration xiaomi_miio_airpurifier which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:58:49.798 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration irrigationprogram which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:58:49.799 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration nodered which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:58:49.799 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration edgeos which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:58:49.800 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration hacs which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:58:49.801 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration dahua which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:58:49.802 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration smartthinq_sensors which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:58:49.802 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration hikconnect which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:58:49.803 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration localtuya which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:58:54.287 WARNING (MainThread) [homeassistant.components.esphome.manager] Sensory: [W][component:307]: dallas_temp.sensor cleared Warning flag[0m
[33m2025-08-06 23:58:55.075 WARNING (MainThread) [homeassistant.components.esphome.manager] Sensory: [W][component:279]: dallas_temp.sensor set Warning flag: scratch pad checksum invalid[0m
[33m2025-08-06 23:58:56.538 WARNING (MainThread) [homeassistant.components.sensor] Entity sensor.ebusd_bai_pumppower (<class 'homeassistant.components.mqtt.sensor.MqttSensor'>) is using native unit of measurement 'None' which is not a valid unit for the device class ('power') it is using; expected one of ['TW', 'GW', 'mW', 'W', 'kW', 'MW']; Please update your configuration if your entity is manually configured, otherwise create a bug report at https://github.com/home-assistant/core/issues?q=is%3Aopen+is%3Aissue+label%3A%22integration%3A+mqtt%22[0m
s6-rc: info: service legacy-services: stopping
[33m2025-08-06 23:59:09.901 WARNING (MainThread) [homeassistant.core] Task <Task pending name='admin service homeassistant.restart' coro=<async_setup.<locals>.async_handle_core_service() running at /usr/src/homeassistant/homeassistant/components/homeassistant/__init__.py:233> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[set.remove(), Task.task_wakeup()]> was still running after final writes shutdown stage; Integrations should cancel non-critical tasks when receiving the stop event to prevent delaying shutdown[0m
Found 3 non-daemonic threads.
[21:59:25] INFO: [32mHome Assistant Core finish process exit code 0[0m
[21:59:25] INFO: [32mHome Assistant Core service shutdown[0m
s6-rc: info: service legacy-services successfully stopped
s6-rc: info: service legacy-cont-init: stopping
s6-rc: info: service legacy-cont-init successfully stopped
s6-rc: info: service fix-attrs: stopping
s6-rc: info: service fix-attrs successfully stopped
s6-rc: info: service s6rc-oneshot-runner: stopping
s6-rc: info: service s6rc-oneshot-runner successfully stopped
s6-rc: info: service s6rc-oneshot-runner: starting
s6-rc: info: service s6rc-oneshot-runner successfully started
s6-rc: info: service fix-attrs: starting
s6-rc: info: service fix-attrs successfully started
s6-rc: info: service legacy-cont-init: starting
s6-rc: info: service legacy-cont-init successfully started
s6-rc: info: service legacy-services: starting
services-up: info: copying legacy longrun home-assistant (no readiness notification)
s6-rc: info: service legacy-services successfully started
[33m2025-08-06 23:59:54.594 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration xtend_tuya which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:59:54.596 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration philips_ambilight_hue which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:59:54.597 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration waste_management which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:59:54.598 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration thessla_green_modbus which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:59:54.599 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration satel which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:59:54.600 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration xiaomi_miio_airpurifier which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:59:54.601 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration irrigationprogram which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:59:54.602 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration nodered which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:59:54.603 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration edgeos which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:59:54.604 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration hacs which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:59:54.605 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration dahua which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:59:54.606 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration smartthinq_sensors which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:59:54.607 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration hikconnect which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-06 23:59:54.608 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration localtuya which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant[0m
[33m2025-08-07 00:00:07.381 WARNING (MainThread) [py.warnings] /usr/local/lib/python3.13/site-packages/gql/transport/aiohttp.py:92: UserWarning: WARNING: By default, AIOHTTPTransport does not verify ssl certificates. This will be fixed in the next major version. You can set ssl=True to force the ssl certificate verification or ssl=False to disable this warning
  warnings.warn(
[0m
[31m2025-08-07 00:00:11.898 ERROR (ImportExecutor_0) [homeassistant.loader] Unexpected exception importing component custom_components.thessla_green_modbus
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/loader.py", line 1058, in _get_component
    ComponentProtocol, importlib.import_module(self.pkg_path)
                       ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/loop.py", line 201, in protected_loop_func
    return func(*args, **kwargs)
  File "/usr/local/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/config/custom_components/thessla_green_modbus/__init__.py", line 49, in <module>
    from .device_scanner import ThesslaGreenDeviceScanner
  File "/config/custom_components/thessla_green_modbus/device_scanner.py", line 126
    codex/enhance-logging-in-device-scanner
                                           ^
IndentationError: unindent does not match any outer indentation level[0m
[33m2025-08-07 00:00:11.912 WARNING (MainThread) [homeassistant.util.loop] Detected blocking call to import_module with args ('custom_components.thessla_green_modbus',) in /usr/src/homeassistant/homeassistant/loader.py, line 1058: ComponentProtocol, importlib.import_module(self.pkg_path) inside the event loop; This is causing stability issues. Please create a bug report at https://github.com/home-assistant/core/issues?q=is%3Aopen+is%3Aissue
For developers, please see https://developers.home-assistant.io/docs/asyncio_blocking_operations/#import_module
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "/usr/src/homeassistant/homeassistant/__main__.py", line 223, in <module>
    sys.exit(main())
  File "/usr/src/homeassistant/homeassistant/__main__.py", line 209, in main
    exit_code = runner.run(runtime_conf)
  File "/usr/src/homeassistant/homeassistant/runner.py", line 154, in run
    return loop.run_until_complete(setup_and_run_hass(runtime_config))
  File "/usr/local/lib/python3.13/asyncio/base_events.py", line 706, in run_until_complete
    self.run_forever()
  File "/usr/local/lib/python3.13/asyncio/base_events.py", line 677, in run_forever
    self._run_once()
  File "/usr/local/lib/python3.13/asyncio/base_events.py", line 2034, in _run_once
    handle._run()
  File "/usr/local/lib/python3.13/asyncio/events.py", line 89, in _run
    self._context.run(self._callback, *self._args)
  File "/usr/src/homeassistant/homeassistant/setup.py", line 170, in async_setup_component
    result = await _async_setup_component(hass, domain, config)
  File "/usr/src/homeassistant/homeassistant/setup.py", line 343, in _async_setup_component
    component = await integration.async_get_component()
  File "/usr/src/homeassistant/homeassistant/loader.py", line 1010, in async_get_component
    comp = self._get_component()
  File "/usr/src/homeassistant/homeassistant/loader.py", line 1058, in _get_component
    ComponentProtocol, importlib.import_module(self.pkg_path)
[0m
[31m2025-08-07 00:00:11.921 ERROR (MainThread) [homeassistant.loader] Unexpected exception importing component custom_components.thessla_green_modbus
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/loader.py", line 1058, in _get_component
    ComponentProtocol, importlib.import_module(self.pkg_path)
                       ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/loop.py", line 201, in protected_loop_func
    return func(*args, **kwargs)
  File "/usr/local/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/config/custom_components/thessla_green_modbus/__init__.py", line 49, in <module>
    from .device_scanner import ThesslaGreenDeviceScanner
  File "/config/custom_components/thessla_green_modbus/device_scanner.py", line 126
    codex/enhance-logging-in-device-scanner
                                           ^
IndentationError: unindent does not match any outer indentation level

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/loader.py", line 998, in async_get_component
    comp = await self.hass.async_add_import_executor_job(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self._get_component, True
        ^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/local/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/loader.py", line 1069, in _get_component
    raise ImportError(f"Exception importing {self.pkg_path}") from err
ImportError: Exception importing custom_components.thessla_green_modbus

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/loader.py", line 1058, in _get_component
    ComponentProtocol, importlib.import_module(self.pkg_path)
                       ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/loop.py", line 201, in protected_loop_func
    return func(*args, **kwargs)
  File "/usr/local/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/config/custom_components/thessla_green_modbus/__init__.py", line 49, in <module>
    from .device_scanner import ThesslaGreenDeviceScanner
  File "/config/custom_components/thessla_green_modbus/device_scanner.py", line 126
    codex/enhance-logging-in-device-scanner
                                           ^
IndentationError: unindent does not match any outer indentation level[0m
[31m2025-08-07 00:00:11.926 ERROR (MainThread) [homeassistant.setup] Setup failed for custom integration 'thessla_green_modbus': Unable to import component: Exception importing custom_components.thessla_green_modbus
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/loader.py", line 1058, in _get_component
    ComponentProtocol, importlib.import_module(self.pkg_path)
                       ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/loop.py", line 201, in protected_loop_func
    return func(*args, **kwargs)
  File "/usr/local/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/config/custom_components/thessla_green_modbus/__init__.py", line 49, in <module>
    from .device_scanner import ThesslaGreenDeviceScanner
  File "/config/custom_components/thessla_green_modbus/device_scanner.py", line 126
    codex/enhance-logging-in-device-scanner
                                           ^
IndentationError: unindent does not match any outer indentation level

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/loader.py", line 998, in async_get_component
    comp = await self.hass.async_add_import_executor_job(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self._get_component, True
        ^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/local/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/usr/src/homeassistant/homeassistant/loader.py", line 1069, in _get_component
    raise ImportError(f"Exception importing {self.pkg_path}") from err
ImportError: Exception importing custom_components.thessla_green_modbus

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/loader.py", line 1058, in _get_component
    ComponentProtocol, importlib.import_module(self.pkg_path)
                       ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/loop.py", line 201, in protected_loop_func
    return func(*args, **kwargs)
  File "/usr/local/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/config/custom_components/thessla_green_modbus/__init__.py", line 49, in <module>
    from .device_scanner import ThesslaGreenDeviceScanner
  File "/config/custom_components/thessla_green_modbus/device_scanner.py", line 126
    codex/enhance-logging-in-device-scanner
                                           ^
IndentationError: unindent does not match any outer indentation level

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/setup.py", line 343, in _async_setup_component
    component = await integration.async_get_component()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/loader.py", line 1018, in async_get_component
    self._component_future.result()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/usr/src/homeassistant/homeassistant/loader.py", line 1010, in async_get_component
    comp = self._get_component()
  File "/usr/src/homeassistant/homeassistant/loader.py", line 1069, in _get_component
    raise ImportError(f"Exception importing {self.pkg_path}") from err
ImportError: Exception importing custom_components.thessla_green_modbus[0m
[33m2025-08-07 00:00:12.596 WARNING (ImportExecutor_0) [py.warnings] /usr/local/lib/python3.13/site-packages/aiomusiccast/__init__.py:1: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.
  from pkg_resources import DistributionNotFound, get_distribution
[0m
[33m2025-08-07 00:00:14.364 WARNING (ImportExecutor_0) [py.warnings] /usr/local/lib/python3.13/site-packages/google/protobuf/runtime_version.py:98: UserWarning: Protobuf gencode version 5.29.5 is exactly one major version older than the runtime version 6.31.1 at api.proto. Please update the gencode to avoid compatibility violations in the next runtime release.
  warnings.warn(
[0m
[33m2025-08-07 00:00:14.365 WARNING (ImportExecutor_0) [py.warnings] /usr/local/lib/python3.13/site-packages/google/protobuf/runtime_version.py:98: UserWarning: Protobuf gencode version 5.29.5 is exactly one major version older than the runtime version 6.31.1 at api_options.proto. Please update the gencode to avoid compatibility violations in the next runtime release.
  warnings.warn(
[0m
[31m2025-08-07 00:00:17.263 ERROR (MainThread) [homeassistant.components.sensor] hikconnect: Error on device update!
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity_platform.py", line 788, in _async_add_entity
    await entity.async_device_update(warning=False)
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1303, in async_device_update
    await self.async_update()
  File "/config/custom_components/hikconnect/sensor.py", line 64, in async_update
    res = await asyncio.wait_for(get_call_status_coro, SCAN_INTERVAL_TIMEOUT.seconds)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/asyncio/tasks.py", line 507, in wait_for
    return await fut
           ^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/hikconnect/api.py", line 233, in get_call_status
    raise DeviceOffline()
hikconnect.exceptions.DeviceOffline[0m
[31m2025-08-07 00:00:17.578 ERROR (MainThread) [homeassistant.components.sensor] hikconnect: Error on device update!
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity_platform.py", line 788, in _async_add_entity
    await entity.async_device_update(warning=False)
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1303, in async_device_update
    await self.async_update()
  File "/config/custom_components/hikconnect/sensor.py", line 64, in async_update
    res = await asyncio.wait_for(get_call_status_coro, SCAN_INTERVAL_TIMEOUT.seconds)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/asyncio/tasks.py", line 507, in wait_for
    return await fut
           ^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/hikconnect/api.py", line 233, in get_call_status
    raise DeviceOffline()
hikconnect.exceptions.DeviceOffline[0m
[33m2025-08-07 00:00:21.807 WARNING (MainThread) [homeassistant.components.roborock] Not setting up S8 because we could not get the network information of the device. Please confirm it is online and the Roborock servers can communicate with it[0m
[31m2025-08-07 00:00:26.526 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set t = ( states('sensor.supply_temperature')|float - states('sensor.outside_temperature')|float ) %} {% set u = ( states('sensor.exhaust_temperature')|float - states('sensor.outside_temperature')|float ) %} {{ ( t / u *100 )|round(1) }}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2446, in forgiving_float_filter
    return float(value)
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 641, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2977, in _render_with_context
    return template.render(**kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/usr/local/lib/python3.13/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2449, in forgiving_float_filter
    raise_no_default("float", value)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1975, in raise_no_default
    raise ValueError(
    ...<2 lines>...
    )
ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = ( states('sensor.supply_temperature')|float - states('sensor.outside_temperature')|float ) %} {% set u = ( states('sensor.exhaust_temperature')|float - states('sensor.outside_temperature')|float ) %} {{ ( t / u *100 )|round(1) }}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 758, in async_render_to_info
    render_info._result = self.async_render(  # noqa: SLF001
                          ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
        variables, strict=strict, log_fn=log_fn, **kwargs
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 643, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = ( states('sensor.supply_temperature')|float - states('sensor.outside_temperature')|float ) %} {% set u = ( states('sensor.exhaust_temperature')|float - states('sensor.outside_temperature')|float ) %} {{ ( t / u *100 )|round(1) }}' but no default was specified[0m
[31m2025-08-07 00:00:26.536 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = ( states('sensor.supply_temperature')|float - states('sensor.outside_temperature')|float ) %} {% set u = ( states('sensor.exhaust_temperature')|float - states('sensor.outside_temperature')|float ) %} {{ ( t / u *100 )|round(1) }}' but no default was specified') while processing template 'Template<template=({% set t = ( states('sensor.supply_temperature')|float - states('sensor.outside_temperature')|float ) %} {% set u = ( states('sensor.exhaust_temperature')|float - states('sensor.outside_temperature')|float ) %} {{ ( t / u *100 )|round(1) }}) renders=4>' for attribute '_attr_native_value' in entity 'sensor.sprawnosc_rekuperatora'[0m
[31m2025-08-07 00:00:38.325 ERROR (MainThread) [homeassistant.components.mqtt.entity] Error 'The unit of measurement `%` is not valid together with device class `temperature`' when processing MQTT discovery message topic: 'homeassistant/sensor/ebusd_bai_ModulationTempDesired_value/config', message: '{'unique_id': 'ebusd_bai_ModulationTempDesired_value', 'device': {'identifiers': 'ebusd_bai', 'manufacturer': 'ebusd.eu', 'via_device': 'ebusd', 'sw_version': '25.1', 'suggested_area': 'Heating', 'name': 'ebusd bai'}, 'value_template': '{{value_json["value"].value}}', 'state_topic': 'ebusd/bai/ModulationTempDesired', 'unit_of_measurement': '%', 'state_class': 'measurement', 'device_class': 'temperature', 'name': 'ModulationTempDesired '}'[0m
[31m2025-08-07 00:00:38.677 ERROR (MainThread) [homeassistant.components.mqtt.entity] Error 'The unit of measurement `%` is not valid together with device class `temperature`' when processing MQTT discovery message topic: 'homeassistant/sensor/ebusd_vr_71_Mc1FlowTempDesired_mixermovement/config', message: '{'unique_id': 'ebusd_vr_71_Mc1FlowTempDesired_mixermovement', 'device': {'identifiers': 'ebusd_vr_71', 'manufacturer': 'ebusd.eu', 'via_device': 'ebusd', 'sw_version': '25.1', 'suggested_area': 'Heating', 'name': 'ebusd vr_71'}, 'value_template': '{{value_json["mixermovement"].value}}', 'state_topic': 'ebusd/vr_71/Mc1FlowTempDesired', 'unit_of_measurement': '%', 'state_class': 'measurement', 'device_class': 'temperature', 'name': 'Mc1FlowTempDesired mixermovement'}'[0m
[31m2025-08-07 00:00:38.726 ERROR (MainThread) [homeassistant.components.mqtt.entity] Error 'The unit of measurement `%` is not valid together with device class `temperature`' when processing MQTT discovery message topic: 'homeassistant/sensor/ebusd_vr_71_Mc2FlowTempDesired_mixermovement/config', message: '{'unique_id': 'ebusd_vr_71_Mc2FlowTempDesired_mixermovement', 'device': {'identifiers': 'ebusd_vr_71', 'manufacturer': 'ebusd.eu', 'via_device': 'ebusd', 'sw_version': '25.1', 'suggested_area': 'Heating', 'name': 'ebusd vr_71'}, 'value_template': '{{value_json["mixermovement"].value}}', 'state_topic': 'ebusd/vr_71/Mc2FlowTempDesired', 'unit_of_measurement': '%', 'state_class': 'measurement', 'device_class': 'temperature', 'name': 'Mc2FlowTempDesired mixermovement'}'[0m
[31m2025-08-07 00:00:38.742 ERROR (MainThread) [homeassistant.components.mqtt.entity] Error 'The unit of measurement `%` is not valid together with device class `temperature`' when processing MQTT discovery message topic: 'homeassistant/sensor/ebusd_vr_71_Mc3FlowTempDesired_mixermovement/config', message: '{'unique_id': 'ebusd_vr_71_Mc3FlowTempDesired_mixermovement', 'device': {'identifiers': 'ebusd_vr_71', 'manufacturer': 'ebusd.eu', 'via_device': 'ebusd', 'sw_version': '25.1', 'suggested_area': 'Heating', 'name': 'ebusd vr_71'}, 'value_template': '{{value_json["mixermovement"].value}}', 'state_topic': 'ebusd/vr_71/Mc3FlowTempDesired', 'unit_of_measurement': '%', 'state_class': 'measurement', 'device_class': 'temperature', 'name': 'Mc3FlowTempDesired mixermovement'}'[0m
[33m2025-08-07 00:00:54.329 WARNING (MainThread) [homeassistant.components.esphome.manager] Sensory: [W][component:307]: dallas_temp.sensor cleared Warning flag[0m
[33m2025-08-07 00:00:55.125 WARNING (MainThread) [homeassistant.components.esphome.manager] Sensory: [W][component:279]: dallas_temp.sensor set Warning flag: scratch pad checksum invalid[0m
